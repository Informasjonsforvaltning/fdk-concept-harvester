{
  "bool": {
    "must": [
      {
        "dis_max": {
          "queries": [
            {
              "bool": {
                "must": [
                  {
                    "constant_score": {
                      "filter": {
                        "script": {
                          "script": {
                            "source": "(doc['prefLabel.nn'][0].contains('arkiv') && doc['prefLabel.nn'].size() == 1 && doc['prefLabel.nn'][0].length() < 9) || (doc['prefLabel.nb'][0].contains('arkiv') && doc['prefLabel.nb'].size() == 1 && doc['prefLabel.nb'][0].length() < 9) || (doc['prefLabel.no'][0].contains('arkiv') && doc['prefLabel.no'].size() == 1 && doc['prefLabel.no'][0].length() < 9) || (doc['prefLabel.en'][0].contains('arkiv') && doc['prefLabel.en'].size() == 1 && doc['prefLabel.en'][0].length() < 9)",
                            "lang": "painless"
                          },
                          "boost": 1
                        }
                      },
                      "boost": 30
                    }
                  }
                ],
                "should": [
                  {
                    "match_phrase_prefix": {
                      "prefLabel.nb": "arkiv"
                    }
                  }
                ]
              }
            },
            {
              "simple_query_string": {
                "query": "arkiv arkiv*",
                "flags": -1,
                "default_operator": "or",
                "lenient": false,
                "analyze_wildcard": false,
                "boost": 1
              }
            },
            {
              "match_phrase_prefix": {
                "prefLabel.nb": {
                  "query": "arkiv",
                  "boost": 3
                }
              }
            },
            {
              "match_phrase_prefix": {
                "prefLabel.nn": {
                  "query": "arkiv",
                  "boost": 2
                }
              }
            },
            {
              "match_phrase_prefix": {
                "prefLabel.no": {
                  "query": "arkiv",
                  "boost": 2
                }
              }
            },
            {
              "match_phrase_prefix": {
                "prefLabel.no": {
                  "query": "arkiv",
                  "boost": 1
                }
              }
            }
          ]
        }
      },
      {
        "match": {
          "publisher.orgPath": {
            "query": "STAT/87654321",
            "analyzer" : "keyword"
          }
        }
      }
    ]
  }
}